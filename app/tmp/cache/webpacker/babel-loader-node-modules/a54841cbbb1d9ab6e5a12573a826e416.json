{"ast":null,"code":"document.addEventListener('DOMContentLoaded', function () {\n  if ($('preview-container')) {\n    var $previewContainer = $('#preview-container');\n\n    var createImageHTML = function createImageHTML(imageURL) {\n      var $imageElement = $('<div>').attr('id', 'setting-image');\n      var $blobElement = $('<img>').attr('src', imageURL);\n\n      if (location.pathname.match('article')) {\n        $blobElement.attr('id', 'preview-jacket');\n      } else {\n        $blobElement.attr('id', 'preview-icon');\n      }\n\n      $imageElement.append($blobElement);\n      $previewContainer.append($imageElement);\n\n      $blobElement.onload = function () {\n        window.URL.revokeObjectURL(imageURL);\n      };\n    };\n\n    $('#form').on('change', function (e) {\n      var file = e.target.files[0];\n      var imageURL = window.URL.createObjectURL(file);\n\n      if ($('#setting-image')) {\n        $('#setting-image').remove();\n      }\n\n      createImageHTML(imageURL);\n    });\n  }\n\n  ;\n});","map":{"version":3,"sources":["/Users/p-noise/projects/music_circle/app/javascript/preview.js"],"names":["document","addEventListener","$","$previewContainer","createImageHTML","imageURL","$imageElement","attr","$blobElement","location","pathname","match","append","onload","window","URL","revokeObjectURL","on","e","file","target","files","createObjectURL","remove"],"mappings":"AAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtD,MAAIC,CAAC,CAAC,mBAAD,CAAL,EAA4B;AAC1B,QAAMC,iBAAiB,GAAGD,CAAC,CAAC,oBAAD,CAA3B;;AAEA,QAAME,eAAe,GAAI,SAAnBA,eAAmB,CAACC,QAAD,EAAc;AAErC,UAAMC,aAAa,GAAGJ,CAAC,CAAC,OAAD,CAAD,CAAWK,IAAX,CAAgB,IAAhB,EAAsB,eAAtB,CAAtB;AACA,UAAMC,YAAY,GAAGN,CAAC,CAAC,OAAD,CAAD,CAAWK,IAAX,CAAgB,KAAhB,EAAuBF,QAAvB,CAArB;;AAEA,UAAKI,QAAQ,CAACC,QAAV,CAAoBC,KAApB,CAA0B,SAA1B,CAAJ,EAA0C;AACxCH,QAAAA,YAAY,CAACD,IAAb,CAAkB,IAAlB,EAAwB,gBAAxB;AACD,OAFD,MAEO;AACLC,QAAAA,YAAY,CAACD,IAAb,CAAkB,IAAlB,EAAwB,cAAxB;AACD;;AAEDD,MAAAA,aAAa,CAACM,MAAd,CAAqBJ,YAArB;AACAL,MAAAA,iBAAiB,CAACS,MAAlB,CAAyBN,aAAzB;;AAEAE,MAAAA,YAAY,CAACK,MAAb,GAAsB,YAAW;AAC/BC,QAAAA,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BX,QAA3B;AACD,OAFD;AAGD,KAjBD;;AAoBAH,IAAAA,CAAC,CAAC,OAAD,CAAD,CAAWe,EAAX,CAAc,QAAd,EAAwB,UAASC,CAAT,EAAY;AAClC,UAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,UAAMhB,QAAQ,GAAGS,MAAM,CAACC,GAAP,CAAWO,eAAX,CAA2BH,IAA3B,CAAjB;;AAEA,UAAIjB,CAAC,CAAC,gBAAD,CAAL,EAAyB;AACvBA,QAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBqB,MAApB;AACD;;AAEDnB,MAAAA,eAAe,CAACC,QAAD,CAAf;AAED,KAVD;AAWD;;AAAA;AAEF,CArCD","sourcesContent":["document.addEventListener('DOMContentLoaded', function(){\n  if ($('preview-container')) {\n    const $previewContainer = $('#preview-container');\n\n    const createImageHTML  = (imageURL) => {\n\n      const $imageElement = $('<div>').attr('id', 'setting-image');\n      const $blobElement = $('<img>').attr('src', imageURL);\n\n      if ((location.pathname).match('article')) {\n        $blobElement.attr('id', 'preview-jacket');\n      } else {\n        $blobElement.attr('id', 'preview-icon');\n      }\n\n      $imageElement.append($blobElement);\n      $previewContainer.append($imageElement);\n\n      $blobElement.onload = function() {\n        window.URL.revokeObjectURL(imageURL);\n      }\n    };\n\n\n    $('#form').on('change', function(e) {\n      const file = e.target.files[0];\n      const imageURL = window.URL.createObjectURL(file);\n\n      if ($('#setting-image')) {\n        $('#setting-image').remove();\n      }\n\n      createImageHTML(imageURL);\n\n    })\n  };\n  \n});\n"]},"metadata":{},"sourceType":"module"}