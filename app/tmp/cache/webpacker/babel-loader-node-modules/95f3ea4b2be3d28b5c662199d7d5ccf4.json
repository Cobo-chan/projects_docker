{"ast":null,"code":"document.addEventListener('DOMContentLoaded', function () {\n  var iconBox = document.getElementById('icon-container');\n  var regex = /(sign_up|edit)/g;\n\n  if (document.URL.match(regex)) {\n    document.getElementById('icon-form').addEventListener('change', function (e) {\n      var alreadyImage = document.querySelector('default');\n\n      if (alreadyImage) {\n        alreadyImage.remove();\n      }\n\n      ;\n      var file = e.target.files[0];\n      var blob = window.URL.createObjectURL(file);\n      var imageElement = document.createElement('div');\n      imageElement.setAttribute('class', 'icon-box');\n      imageElement.setAttribute('id', 'default');\n      var blobElement = document.createElement('img');\n      blobElement.setAttribute('src', blob);\n      blobElement.setAttribute('id', 'preview-icon');\n      var defaultImage = document.getElementById('default');\n      defaultImage.remove();\n      imageElement.appendChild(blobElement);\n      iconBox.appendChild(imageElement);\n    });\n  }\n\n  ;\n});","map":{"version":3,"sources":["/Users/p-noise/projects/music_circle/app/javascript/preview.js"],"names":["document","addEventListener","iconBox","getElementById","regex","URL","match","e","alreadyImage","querySelector","remove","file","target","files","blob","window","createObjectURL","imageElement","createElement","setAttribute","blobElement","defaultImage","appendChild"],"mappings":"AAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtD,MAAMC,OAAO,GAAGF,QAAQ,CAACG,cAAT,CAAwB,gBAAxB,CAAhB;AACA,MAAMC,KAAK,GAAG,iBAAd;;AACA,MAAIJ,QAAQ,CAACK,GAAT,CAAaC,KAAb,CAAmBF,KAAnB,CAAJ,EAA+B;AAC7BJ,IAAAA,QAAQ,CAACG,cAAT,CAAwB,WAAxB,EAAqCF,gBAArC,CAAsD,QAAtD,EAAgE,UAASM,CAAT,EAAW;AACzE,UAAMC,YAAY,GAAGR,QAAQ,CAACS,aAAT,CAAuB,SAAvB,CAArB;;AACA,UAAID,YAAJ,EAAkB;AAChBA,QAAAA,YAAY,CAACE,MAAb;AACD;;AAAA;AAED,UAAMC,IAAI,GAAGJ,CAAC,CAACK,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,UAAMC,IAAI,GAAGC,MAAM,CAACV,GAAP,CAAWW,eAAX,CAA2BL,IAA3B,CAAb;AAEA,UAAMM,YAAY,GAAGjB,QAAQ,CAACkB,aAAT,CAAuB,KAAvB,CAArB;AACAD,MAAAA,YAAY,CAACE,YAAb,CAA0B,OAA1B,EAAmC,UAAnC;AACAF,MAAAA,YAAY,CAACE,YAAb,CAA0B,IAA1B,EAAgC,SAAhC;AAEA,UAAMC,WAAW,GAAGpB,QAAQ,CAACkB,aAAT,CAAuB,KAAvB,CAApB;AACAE,MAAAA,WAAW,CAACD,YAAZ,CAAyB,KAAzB,EAAgCL,IAAhC;AACAM,MAAAA,WAAW,CAACD,YAAZ,CAAyB,IAAzB,EAA+B,cAA/B;AAEA,UAAME,YAAY,GAAGrB,QAAQ,CAACG,cAAT,CAAwB,SAAxB,CAArB;AACAkB,MAAAA,YAAY,CAACX,MAAb;AAEAO,MAAAA,YAAY,CAACK,WAAb,CAAyBF,WAAzB;AACAlB,MAAAA,OAAO,CAACoB,WAAR,CAAoBL,YAApB;AACD,KAtBD;AAwBD;;AAAA;AACF,CA7BD","sourcesContent":["document.addEventListener('DOMContentLoaded', function(){\n  const iconBox = document.getElementById('icon-container');\n  const regex = /(sign_up|edit)/g;\n  if (document.URL.match(regex)) {\n    document.getElementById('icon-form').addEventListener('change', function(e){\n      const alreadyImage = document.querySelector('default')\n      if (alreadyImage) {\n        alreadyImage.remove();\n      };\n\n      const file = e.target.files[0];\n      const blob = window.URL.createObjectURL(file);\n  \n      const imageElement = document.createElement('div');\n      imageElement.setAttribute('class', 'icon-box');\n      imageElement.setAttribute('id', 'default');\n  \n      const blobElement = document.createElement('img');\n      blobElement.setAttribute('src', blob);\n      blobElement.setAttribute('id', 'preview-icon');\n  \n      const defaultImage = document.getElementById('default');\n      defaultImage.remove()\n  \n      imageElement.appendChild(blobElement);\n      iconBox.appendChild(imageElement);\n    });\n\n  };\n});"]},"metadata":{},"sourceType":"module"}