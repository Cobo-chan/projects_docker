{"ast":null,"code":"$(document).on('turbolinks:load', function () {\n  document.addEventListener('DOMContentLoaded', function () {\n    if ($('preview-container')) {\n      var $previewContainer = $('#preview-container');\n\n      var createImageHTML = function createImageHTML(imageURL) {\n        var $imageElement = $('<div>').attr('id', 'setting-image');\n        var $blobElement = $('<img>').attr('src', imageURL);\n\n        if (location.pathname.match('article')) {\n          $blobElement.attr('id', 'preview-jacket');\n        } else {\n          $blobElement.attr('id', 'preview-icon');\n        }\n\n        $imageElement.append($blobElement);\n        $previewContainer.append($imageElement);\n\n        $blobElement.onload = function () {\n          window.URL.revokeObjectURL(imageURL);\n        };\n      };\n\n      $('#form').on('change', function (e) {\n        var file = e.target.files[0];\n        var imageURL = window.URL.createObjectURL(file);\n\n        if ($('#setting-image')) {\n          $('#setting-image').remove();\n        }\n\n        createImageHTML(imageURL);\n      });\n    }\n\n    ;\n  });\n});","map":{"version":3,"sources":["/Users/p-noise/projects/music_circle/app/javascript/preview.js"],"names":["$","document","on","addEventListener","$previewContainer","createImageHTML","imageURL","$imageElement","attr","$blobElement","location","pathname","match","append","onload","window","URL","revokeObjectURL","e","file","target","files","createObjectURL","remove"],"mappings":"AAAAA,CAAC,CAACC,QAAD,CAAD,CAAYC,EAAZ,CAAe,iBAAf,EAAkC,YAAW;AAE3CD,EAAAA,QAAQ,CAACE,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtD,QAAIH,CAAC,CAAC,mBAAD,CAAL,EAA4B;AAC1B,UAAMI,iBAAiB,GAAGJ,CAAC,CAAC,oBAAD,CAA3B;;AAEA,UAAMK,eAAe,GAAI,SAAnBA,eAAmB,CAACC,QAAD,EAAc;AAErC,YAAMC,aAAa,GAAGP,CAAC,CAAC,OAAD,CAAD,CAAWQ,IAAX,CAAgB,IAAhB,EAAsB,eAAtB,CAAtB;AACA,YAAMC,YAAY,GAAGT,CAAC,CAAC,OAAD,CAAD,CAAWQ,IAAX,CAAgB,KAAhB,EAAuBF,QAAvB,CAArB;;AAEA,YAAKI,QAAQ,CAACC,QAAV,CAAoBC,KAApB,CAA0B,SAA1B,CAAJ,EAA0C;AACxCH,UAAAA,YAAY,CAACD,IAAb,CAAkB,IAAlB,EAAwB,gBAAxB;AACD,SAFD,MAEO;AACLC,UAAAA,YAAY,CAACD,IAAb,CAAkB,IAAlB,EAAwB,cAAxB;AACD;;AAEDD,QAAAA,aAAa,CAACM,MAAd,CAAqBJ,YAArB;AACAL,QAAAA,iBAAiB,CAACS,MAAlB,CAAyBN,aAAzB;;AAEAE,QAAAA,YAAY,CAACK,MAAb,GAAsB,YAAW;AAC/BC,UAAAA,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BX,QAA3B;AACD,SAFD;AAGD,OAjBD;;AAoBAN,MAAAA,CAAC,CAAC,OAAD,CAAD,CAAWE,EAAX,CAAc,QAAd,EAAwB,UAASgB,CAAT,EAAY;AAClC,YAAMC,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,YAAMf,QAAQ,GAAGS,MAAM,CAACC,GAAP,CAAWM,eAAX,CAA2BH,IAA3B,CAAjB;;AAEA,YAAInB,CAAC,CAAC,gBAAD,CAAL,EAAyB;AACvBA,UAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBuB,MAApB;AACD;;AAEDlB,QAAAA,eAAe,CAACC,QAAD,CAAf;AAED,OAVD;AAWD;;AAAA;AAEF,GArCD;AAuCD,CAzCD","sourcesContent":["$(document).on('turbolinks:load', function() {\n  \n  document.addEventListener('DOMContentLoaded', function(){\n    if ($('preview-container')) {\n      const $previewContainer = $('#preview-container');\n  \n      const createImageHTML  = (imageURL) => {\n  \n        const $imageElement = $('<div>').attr('id', 'setting-image');\n        const $blobElement = $('<img>').attr('src', imageURL);\n  \n        if ((location.pathname).match('article')) {\n          $blobElement.attr('id', 'preview-jacket');\n        } else {\n          $blobElement.attr('id', 'preview-icon');\n        }\n\n        $imageElement.append($blobElement);\n        $previewContainer.append($imageElement);\n  \n        $blobElement.onload = function() {\n          window.URL.revokeObjectURL(imageURL);\n        }\n      };\n  \n  \n      $('#form').on('change', function(e) {\n        const file = e.target.files[0];\n        const imageURL = window.URL.createObjectURL(file);\n  \n        if ($('#setting-image')) {\n          $('#setting-image').remove();\n        }\n  \n        createImageHTML(imageURL);\n  \n      })\n    };\n    \n  });\n  \n});"]},"metadata":{},"sourceType":"module"}