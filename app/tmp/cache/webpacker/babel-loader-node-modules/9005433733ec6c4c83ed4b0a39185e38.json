{"ast":null,"code":"document.addEventListener('DOMContentLoaded', function () {\n  var regex = /(sign_up|edit)/g;\n\n  if (document.URL.match(regex)) {\n    var iconBox = document.getElementById('icon-container');\n\n    var createImageHTML = function createImageHTML(blob) {\n      var imageElement = document.createElement('div');\n      imageElement.setAttribute('class', 'icon-box');\n      imageElement.setAttribute('id', 'default');\n      var blobElement = document.createElement('img');\n      blobElement.setAttribute('src', blob);\n      blobElement.setAttribute('id', 'preview-icon');\n      var defaultImage = document.getElementById('default');\n      defaultImage.remove();\n      imageElement.appendChild(blobElement);\n      iconBox.appendChild(imageElement);\n    };\n\n    document.getElementById('icon-form').addEventListener('change', function (e) {\n      var alreadyImage = document.querySelector('default');\n\n      if (alreadyImage) {\n        alreadyImage.remove();\n        console.log(blob);\n      }\n\n      ;\n      var file = e.target.files[0];\n      var blob = window.URL.createObjectURL(file);\n      createImageHTML(blob);\n    });\n  }\n\n  ;\n});","map":{"version":3,"sources":["/Users/p-noise/projects/music_circle/app/javascript/preview.js"],"names":["document","addEventListener","regex","URL","match","iconBox","getElementById","createImageHTML","blob","imageElement","createElement","setAttribute","blobElement","defaultImage","remove","appendChild","e","alreadyImage","querySelector","console","log","file","target","files","window","createObjectURL"],"mappings":"AAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AACtD,MAAMC,KAAK,GAAG,iBAAd;;AAEA,MAAIF,QAAQ,CAACG,GAAT,CAAaC,KAAb,CAAmBF,KAAnB,CAAJ,EAA+B;AAC7B,QAAMG,OAAO,GAAGL,QAAQ,CAACM,cAAT,CAAwB,gBAAxB,CAAhB;;AAEA,QAAMC,eAAe,GAAI,SAAnBA,eAAmB,CAACC,IAAD,EAAU;AAEjC,UAAMC,YAAY,GAAGT,QAAQ,CAACU,aAAT,CAAuB,KAAvB,CAArB;AACAD,MAAAA,YAAY,CAACE,YAAb,CAA0B,OAA1B,EAAmC,UAAnC;AACAF,MAAAA,YAAY,CAACE,YAAb,CAA0B,IAA1B,EAAgC,SAAhC;AAEA,UAAMC,WAAW,GAAGZ,QAAQ,CAACU,aAAT,CAAuB,KAAvB,CAApB;AACAE,MAAAA,WAAW,CAACD,YAAZ,CAAyB,KAAzB,EAAgCH,IAAhC;AACAI,MAAAA,WAAW,CAACD,YAAZ,CAAyB,IAAzB,EAA+B,cAA/B;AAEA,UAAME,YAAY,GAAGb,QAAQ,CAACM,cAAT,CAAwB,SAAxB,CAArB;AACAO,MAAAA,YAAY,CAACC,MAAb;AAEAL,MAAAA,YAAY,CAACM,WAAb,CAAyBH,WAAzB;AACAP,MAAAA,OAAO,CAACU,WAAR,CAAoBN,YAApB;AACD,KAfD;;AAiBAT,IAAAA,QAAQ,CAACM,cAAT,CAAwB,WAAxB,EAAqCL,gBAArC,CAAsD,QAAtD,EAAgE,UAASe,CAAT,EAAW;AACzE,UAAMC,YAAY,GAAGjB,QAAQ,CAACkB,aAAT,CAAuB,SAAvB,CAArB;;AACA,UAAID,YAAJ,EAAkB;AAChBA,QAAAA,YAAY,CAACH,MAAb;AACAK,QAAAA,OAAO,CAACC,GAAR,CAAYZ,IAAZ;AACD;;AAAA;AAED,UAAMa,IAAI,GAAGL,CAAC,CAACM,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,UAAMf,IAAI,GAAGgB,MAAM,CAACrB,GAAP,CAAWsB,eAAX,CAA2BJ,IAA3B,CAAb;AAEAd,MAAAA,eAAe,CAACC,IAAD,CAAf;AACD,KAXD;AAaD;;AAAA;AACF,CArCD","sourcesContent":["document.addEventListener('DOMContentLoaded', function(){\n  const regex = /(sign_up|edit)/g;\n  \n  if (document.URL.match(regex)) {\n    const iconBox = document.getElementById('icon-container');\n\n    const createImageHTML  = (blob) => {\n\n      const imageElement = document.createElement('div');\n      imageElement.setAttribute('class', 'icon-box');\n      imageElement.setAttribute('id', 'default');\n  \n      const blobElement = document.createElement('img');\n      blobElement.setAttribute('src', blob);\n      blobElement.setAttribute('id', 'preview-icon');\n\n      const defaultImage = document.getElementById('default');\n      defaultImage.remove()\n  \n      imageElement.appendChild(blobElement);\n      iconBox.appendChild(imageElement);\n    };\n\n    document.getElementById('icon-form').addEventListener('change', function(e){\n      const alreadyImage = document.querySelector('default')\n      if (alreadyImage) {\n        alreadyImage.remove();\n        console.log(blob);\n      };\n\n      const file = e.target.files[0];\n      const blob = window.URL.createObjectURL(file);\n      \n      createImageHTML(blob);\n    });\n\n  };\n});"]},"metadata":{},"sourceType":"module"}