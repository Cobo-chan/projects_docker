{"ast":null,"code":"document.addEventListener('DOMContentLoaded', function () {\n  if ($('preview-container')) {\n    var $previewContainer = $('#preview-container');\n\n    var createImageHTML = function createImageHTML(blob) {\n      // const imageElement = document.createElement('div');\n      // imageElement.setAttribute('id', 'default');\n      // const blobElement = document.createElement('img');\n      // blobElement.setAttribute('src', blob);\n      var $imageElement = $('<div>').attr('id', 'default');\n      var $blobElement = $('<img>').attr('src', blob); // if (document.URL.match('articles')) {\n      //   blobElement.setAttribute('id', 'preview-jacket')\n      // } else {\n      //   blobElement.setAttribute('id', 'preview-icon');\n      // }\n\n      if (location.pathname.match('article')) {\n        $blobElement.attr('id', 'preview-jacket');\n      } else {\n        $blobElement.attr('id', 'preview-icon');\n      } // const defaultImage = document.getElementById('default');\n      // defaultImage.remove()\n\n\n      $('#default').remove(); // imageElement.appendChild(blobElement);\n      // iconBox.appendChild(imageElement);\n\n      $imageElement.append($blobElement);\n      $previewContainer.append($imageElement);\n    }; // document.getElementById('form').addEventListener('change', function(e){\n    //   const alreadyImage = document.querySelector('default')\n    //   if (alreadyImage) {\n    //     alreadyImage.remove();\n    //   };\n    //   const file = e.target.files[0];\n    //   const blob = window.URL.createObjectURL(file);\n    //   createImageHTML(blob);\n    // });\n\n\n    $('#form').on('change', function (e) {\n      if ($('#default')) {\n        $('#default').remove();\n      }\n\n      var file = e.target.files[0];\n      var blob = window.URL.createObjectURL(file);\n      createImageHTML(blob);\n    });\n  }\n\n  ;\n});","map":{"version":3,"sources":["/Users/p-noise/projects/music_circle/app/javascript/preview.js"],"names":["document","addEventListener","$","$previewContainer","createImageHTML","blob","$imageElement","attr","$blobElement","location","pathname","match","remove","append","on","e","file","target","files","window","URL","createObjectURL"],"mappings":"AAAAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAU;AAEtD,MAAIC,CAAC,CAAC,mBAAD,CAAL,EAA4B;AAC1B,QAAMC,iBAAiB,GAAGD,CAAC,CAAC,oBAAD,CAA3B;;AAEA,QAAME,eAAe,GAAI,SAAnBA,eAAmB,CAACC,IAAD,EAAU;AAEjC;AACA;AAEA;AACA;AAEA,UAAMC,aAAa,GAAGJ,CAAC,CAAC,OAAD,CAAD,CAAWK,IAAX,CAAgB,IAAhB,EAAsB,SAAtB,CAAtB;AACA,UAAMC,YAAY,GAAGN,CAAC,CAAC,OAAD,CAAD,CAAWK,IAAX,CAAgB,KAAhB,EAAuBF,IAAvB,CAArB,CATiC,CAWjC;AACA;AACA;AACA;AACA;;AAEA,UAAKI,QAAQ,CAACC,QAAV,CAAoBC,KAApB,CAA0B,SAA1B,CAAJ,EAA0C;AACxCH,QAAAA,YAAY,CAACD,IAAb,CAAkB,IAAlB,EAAwB,gBAAxB;AACD,OAFD,MAEO;AACLC,QAAAA,YAAY,CAACD,IAAb,CAAkB,IAAlB,EAAwB,cAAxB;AACD,OArBgC,CAuBjC;AACA;;;AAEAL,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAcU,MAAd,GA1BiC,CA4BjC;AACA;;AAEAN,MAAAA,aAAa,CAACO,MAAd,CAAqBL,YAArB;AACAL,MAAAA,iBAAiB,CAACU,MAAlB,CAAyBP,aAAzB;AACD,KAjCD,CAH0B,CAsC1B;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;;;AAEAJ,IAAAA,CAAC,CAAC,OAAD,CAAD,CAAWY,EAAX,CAAc,QAAd,EAAwB,UAASC,CAAT,EAAY;AAClC,UAAIb,CAAC,CAAC,UAAD,CAAL,EAAmB;AACjBA,QAAAA,CAAC,CAAC,UAAD,CAAD,CAAcU,MAAd;AACD;;AAED,UAAMI,IAAI,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAb;AACA,UAAMb,IAAI,GAAGc,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2BL,IAA3B,CAAb;AAEAZ,MAAAA,eAAe,CAACC,IAAD,CAAf;AACD,KATD;AAUD;;AAAA;AACF,CA/DD","sourcesContent":["document.addEventListener('DOMContentLoaded', function(){\n  \n  if ($('preview-container')) {\n    const $previewContainer = $('#preview-container');\n\n    const createImageHTML  = (blob) => {\n\n      // const imageElement = document.createElement('div');\n      // imageElement.setAttribute('id', 'default');\n  \n      // const blobElement = document.createElement('img');\n      // blobElement.setAttribute('src', blob);\n\n      const $imageElement = $('<div>').attr('id', 'default');\n      const $blobElement = $('<img>').attr('src', blob);\n\n      // if (document.URL.match('articles')) {\n      //   blobElement.setAttribute('id', 'preview-jacket')\n      // } else {\n      //   blobElement.setAttribute('id', 'preview-icon');\n      // }\n\n      if ((location.pathname).match('article')) {\n        $blobElement.attr('id', 'preview-jacket');\n      } else {\n        $blobElement.attr('id', 'preview-icon');\n      }\n\n      // const defaultImage = document.getElementById('default');\n      // defaultImage.remove()\n\n      $('#default').remove();\n  \n      // imageElement.appendChild(blobElement);\n      // iconBox.appendChild(imageElement);\n\n      $imageElement.append($blobElement);\n      $previewContainer.append($imageElement);\n    };\n\n    // document.getElementById('form').addEventListener('change', function(e){\n    //   const alreadyImage = document.querySelector('default')\n    //   if (alreadyImage) {\n    //     alreadyImage.remove();\n    //   };\n\n    //   const file = e.target.files[0];\n    //   const blob = window.URL.createObjectURL(file);\n      \n    //   createImageHTML(blob);\n    // });\n\n    $('#form').on('change', function(e) {\n      if ($('#default')) {\n        $('#default').remove();\n      }\n\n      const file = e.target.files[0];\n      const blob = window.URL.createObjectURL(file);\n      \n      createImageHTML(blob);\n    })\n  };\n});"]},"metadata":{},"sourceType":"module"}